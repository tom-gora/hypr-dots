###################################

# ░██    ░██    ░███    ░█████████  ░██████   ░███    ░████████   ░██         ░██████████   ░██████   
# ░██    ░██   ░██░██   ░██     ░██   ░██    ░██░██   ░██    ░██  ░██         ░██          ░██   ░██  
# ░██    ░██  ░██  ░██  ░██     ░██   ░██   ░██  ░██  ░██    ░██  ░██         ░██         ░██         
# ░██    ░██ ░█████████ ░█████████    ░██  ░█████████ ░████████   ░██         ░█████████   ░████████  
#  ░██  ░██  ░██    ░██ ░██   ░██     ░██  ░██    ░██ ░██     ░██ ░██         ░██                 ░██ 
#   ░██░██   ░██    ░██ ░██    ░██    ░██  ░██    ░██ ░██     ░██ ░██         ░██          ░██   ░██  
#    ░███    ░██    ░██ ░██     ░██ ░██████░██    ░██ ░█████████  ░██████████ ░██████████   ░██████   
                                                                                                    
$mainMod = SUPER
$files = thunar
$term = wezterm
$browser = $HOME/.local/share/zen/zen
$scripts_dir = $HOME/.config/hypr/scripts
$rofi_backend_dir = $HOME/.config/rofi/backend
$gophi_script = "$rofi_backend_dir/scripts/gophi.sh"
$gophi_menus_configs = "$rofi_backend_dir/menus"
$configs = $HOME/.config/hypr/configs
$wallpapers = $HOME/.config/hypr-wallpapers
$toggle_script = "$scripts_dir/specialWorkspaces/Toggle.sh"
$localsend = $HOME/.local/bin/localsend
$color-manager = $HOME/.local/bin/color-manager

###################################

#   ░██████   ░██     ░██ ░██████  ░██████  ░██     ░██ 
#  ░██   ░██  ░██     ░██   ░██   ░██   ░██ ░██    ░██  
# ░██     ░██ ░██     ░██   ░██  ░██        ░██   ░██   
# ░██     ░██ ░██     ░██   ░██  ░██        ░███████    
# ░██     ░██ ░██     ░██   ░██  ░██        ░██   ░██   
#  ░██   ░██   ░██   ░██    ░██   ░██   ░██ ░██    ░██  
#   ░██████     ░██████   ░██████  ░██████  ░██     ░██ 
#        ░██                                            
#         ░██                                           
#                                                       
#    ░███    ░█████████  ░█████████    ░██████          
#   ░██░██   ░██     ░██ ░██     ░██  ░██   ░██         
#  ░██  ░██  ░██     ░██ ░██     ░██ ░██                
# ░█████████ ░█████████  ░█████████   ░████████         
# ░██    ░██ ░██         ░██                 ░██        
# ░██    ░██ ░██         ░██          ░██   ░██         
# ░██    ░██ ░██         ░██           ░██████          
                                                      
# rofi App launcher
$rofi_laucher = rofi -show drun -theme-str 'textbox-prompt-icon {str: "  ";}' -theme-str 'entry { placeholder: "Open..."; }'
# bindr = $mainMod, $mainMod_L, exec, walker -m applications
bindr = $mainMod, $mainMod_L, exec, pkill rofi || $rofi_laucher
# Open term
bind = , F12, exec, $term
# Open thunar
bind = $mainMod, T, exec, $files
# Open browser
bind = $mainMod, F, exec, $browser
# Global stop screen recording
bind = , pause, exec, $scripts_dir/utils/KillWfRecorder.sh
# Filesharing app
bindr = $mainMod ALT, L, exec, pkill localsend || $localsend

###################################

#   ░██████   ░██     ░██   ░██████   ░██████████░██████████ ░███     ░███ 
#  ░██   ░██   ░██   ░██   ░██   ░██      ░██    ░██         ░████   ░████ 
# ░██           ░██ ░██   ░██             ░██    ░██         ░██░██ ░██░██ 
#  ░████████     ░████     ░████████      ░██    ░█████████  ░██ ░████ ░██ 
#         ░██     ░██             ░██     ░██    ░██         ░██  ░██  ░██ 
#  ░██   ░██      ░██      ░██   ░██      ░██    ░██         ░██       ░██ 
#   ░██████       ░██       ░██████       ░██    ░██████████ ░██       ░██ 
                                                                         
# Kill session with windows trinity
bind = CTRL ALT, Delete, exec, hyprctl dispatch exit 0
# kill active window
bind = $mainMod, Q, killactive,
# toggle fullscreen for the active window
bind = $mainMod, Return, fullscreen
# force active killed
bind = $mainMod SHIFT, Q, closewindow, 
# toggle floating state for the active window
bind = $mainMod SHIFT, F, togglefloating,
# toggle floating state for all windows in the current workspace
bind = $mainMod ALT, F, exec, hyprctl dispatch workspaceopt allfloat
# lock the screen
bind = $mainMod CTRL, L, exec, $scripts_dir/utils/LockScreen.sh
# shutdown/logout menu
bind = $mainMod, D, exec, $scripts_dir/utils/Wlogout.sh
# system updater
bind = $mainMod, U, exec, wezterm --config 'window_padding={left=20, right=20, top=10, bottom=10}' start --always-new-process --class 'wez-updater' -- $HOME/.config/hypr/scripts/utils/DnfSpawnWezUpdater.sh

# Move windows with vim keys
bind = $mainMod SHIFT, h, movewindow, l
bind = $mainMod SHIFT, l, movewindow, r
bind = $mainMod SHIFT, k, movewindow, u
bind = $mainMod SHIFT, j, movewindow, d

# Move focus with mainMod + vim keys
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Master Layout - not using dwindle at all
bind = $mainMod, EQUAL, layoutmsg, addmaster
bind = $mainMod, MINUS, layoutmsg, removemaster
bind = $mainMod, SLASH, layoutmsg, swapwithmaster

# Master Layout - not using dwindle at all
bind = $mainMod, EQUAL, layoutmsg, addmaster
bind = $mainMod, MINUS, layoutmsg, removemaster
bind = $mainMod, SLASH, layoutmsg, swapwithmaster

###################################

# ░█████████    ░██████   ░██████████░██████
# ░██     ░██  ░██   ░██  ░██          ░██  
# ░██     ░██ ░██     ░██ ░██          ░██  
# ░█████████  ░██     ░██ ░█████████   ░██  
# ░██   ░██   ░██     ░██ ░██          ░██  
# ░██    ░██   ░██   ░██  ░██          ░██  
# ░██     ░██   ░██████   ░██        ░██████

# Quick access to hypr configs
# bind = $mainMod, S, exec, walker -m hypr-settings
bind = $mainMod, S, exec, pkill rofi || $gophi_script "$gophi_menus_configs/hypr_dots.json" "  " "Hyprland configs..."
# wallpaper picker
# bind = $mainMod, W, exec, walker -m wallpapers
bind = $mainMod, W, exec, pkill rofi || $rofi_backend_dir/scripts/wallpaper.sh
#rofi color picker
bind = $mainMod, P, exec, $rofi_backend_dir/scripts/rofiQuickColors.sh
#rofi color picker
bind = $mainMod SHIFT, P, exec, $scripts_dir/rofi/RofiShades.sh
# Rofi emoji picker
bind = $mainMod, E, exec, pkill rofi || "$rofi_backend_dir/scripts/emojis.sh" "$gophi_menus_configs/emojis.json" "  " "Emojis..." 
# bind = $mainMod, E, exec, walker -m emojis
#rofi font awesome glyph picker
bind = $mainMod, I, exec, pkill rofi || echo -n "<i class='fa fa-$(cat ~/.config/rofi/fa-icon-list.txt | rofi -dmenu -i -markup-rows -theme-str 'textbox-prompt-icon {str: "  ";}' -theme-str 'entry { placeholder: "Font Awesome Glyphs..."; }' | cut -d\' -f2 )'></i>" | wl-copy
#rofi nerd font glyph picker
bind = $mainMod SHIFT, I, exec, pkill rofi || ROFI_PLUGIN_PATH="/lib/rofi" rofi -modi nerdy -show nerdy -theme-str 'textbox-prompt-icon {str: "  ";}' -theme-str 'entry { placeholder: "Nerd Font Glyphs..."; }' 
# Rofi bluetooth
bind = $mainMod SHIFT, B, exec, pkill rofi || $rofi_backend_dir/scripts/bluetooth.sh
# Rofi SSH
bind = $mainMod SHIFT, S, exec, pkill rofi || $rofi_backend_dir/scripts/sshHosts.sh
# bind = $mainMod SHIFT, S, exec, walker -m ssh
# Session picker (tmux)
bind = $mainMod SHIFT, T, exec, pkill rofi || $rofi_backend_dir/scripts/tmuxSeshWrapper.sh
# rofi clipboard history
bind = $mainMod, V, exec, $rofi_backend_dir/scripts/clipboard.sh
# rofi calculator
# bind = $mainMod, C, exec,   walker -m calc
bind = $mainMod, C, exec,   rofi -show calc -modi calc -no-show-match -no-sort  -calc-command "echo -n '{result}' | wl-copy"

###################################

# Random wallpaper
bind = $mainMod SHIFT, W, exec, $scripts_dir/wallpaperAndStyle/Update.sh -d ~/.config/hypr-wallpapers
# Toggle blur weak/strong
bind = $mainMod ALT, B, exec, $scripts_dir/wallpaperAndStyle/ChangeBlur.sh 
# toggle keyboard layouts
bind = $mainMod ,space, exec, $scripts_dir/utils/SwitchKeyboardLayout.sh
# notifications panel
bind = $mainMod SHIFT, N, exec, swaync-client -t -sw
# Toggle hide/show waybar 
bind = $mainMod, B, exec, killall -SIGUSR1 waybar

###################################

#   ░██████   ░█████████  ░██████████   ░██████  ░██████   ░███    ░██         
#  ░██   ░██  ░██     ░██ ░██          ░██   ░██   ░██    ░██░██   ░██         
# ░██         ░██     ░██ ░██         ░██          ░██   ░██  ░██  ░██         
#  ░████████  ░█████████  ░█████████  ░██          ░██  ░█████████ ░██         
#         ░██ ░██         ░██         ░██          ░██  ░██    ░██ ░██         
#  ░██   ░██  ░██         ░██          ░██   ░██   ░██  ░██    ░██ ░██         
#   ░██████   ░██         ░██████████   ░██████  ░██████░██    ░██ ░██████████ 
#                                                                              
# ░██       ░██ ░█████████  ░██     ░██   ░██████   ░█████████    ░██████      
# ░██       ░██ ░██     ░██ ░██    ░██   ░██   ░██  ░██     ░██  ░██   ░██     
# ░██  ░██  ░██ ░██     ░██ ░██   ░██   ░██         ░██     ░██ ░██            
# ░██ ░████ ░██ ░█████████  ░███████     ░████████  ░█████████  ░██            
# ░██░██ ░██░██ ░██   ░██   ░██   ░██           ░██ ░██         ░██            
# ░████   ░████ ░██    ░██  ░██    ░██   ░██   ░██  ░██          ░██   ░██     
# ░███     ░███ ░██     ░██ ░██     ░██   ░██████   ░██           ░██████  ░██ 
#                                                                              
#    ░███    ░█████████  ░█████████    ░██████                                 
#   ░██░██   ░██     ░██ ░██     ░██  ░██   ░██                                
#  ░██  ░██  ░██     ░██ ░██     ░██ ░██                                       
# ░█████████ ░█████████  ░█████████   ░████████                                
# ░██    ░██ ░██         ░██                 ░██                               
# ░██    ░██ ░██         ░██          ░██   ░██                                
# ░██    ░██ ░██         ░██           ░██████                                 
                                                                             
bind = , F11, exec, $scripts_dir/specialWorkspaces/Toggle.sh thunderbird
bind = , F10, exec, $scripts_dir/specialWorkspaces/Toggle.sh obsidian
bind = , F9, exec, $scripts_dir/specialWorkspaces/Toggle.sh spotify
bind = , F8, exec, $scripts_dir/specialWorkspaces/Toggle.sh discord
bind = , F4, exec, $scripts_dir/specialWorkspaces/Toggle.sh scratchpad
bind = $mainMod, A, exec, $scripts_dir/specialWorkspaces/Toggle.sh ollama

###################################

# ░███     ░███ ░██████████ ░███████   ░██████   ░███    
# ░████   ░████ ░██         ░██   ░██    ░██    ░██░██   
# ░██░██ ░██░██ ░██         ░██    ░██   ░██   ░██  ░██  
# ░██ ░████ ░██ ░█████████  ░██    ░██   ░██  ░█████████ 
# ░██  ░██  ░██ ░██         ░██    ░██   ░██  ░██    ░██ 
# ░██       ░██ ░██         ░██   ░██    ░██  ░██    ░██ 
# ░██       ░██ ░██████████ ░███████   ░██████░██    ░██ 
                                                       
# volume up
bind = , xf86audioraisevolume, exec, $scripts_dir/utils/Volume.sh --inc
# volume down
bind = , xf86audiolowervolume, exec, $scripts_dir/utils/Volume.sh --dec 
# mute mic
bind = , xf86AudioMicMute, exec, $scripts_dir/utils/Volume.sh --toggle-mic
# mute
bind = , xf86audiomute, exec, $scripts_dir/utils/Volume.sh --toggle

# media controls using keyboards
bind = , xf86AudioPlayPause, exec, $scripts_dir/utils/MediaCtrl.sh --pause
bind = , xf86AudioPause, exec, $scripts_dir/utils/MediaCtrl.sh --pause
bind = , xf86AudioPlay, exec, $scripts_dir/utils/MediaCtrl.sh --pause
bind = , xf86AudioNext, exec, $scripts_dir/utils/MediaCtrl.sh --nxt
bind = , xf86AudioPrev, exec, $scripts_dir/utils/MediaCtrl.sh --prv
bind = , xf86audiostop, exec, $scripts_dir/utils/MediaCtrl.sh --stop

